{"ast":null,"code":"var _jsxFileName = \"/mnt/network_repo/test_ai_rpg/RPGer/client/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Responsive, WidthProvider } from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\nimport { useSocket } from '../context/SocketContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { useWidgets } from '../context/WidgetContext';\n\n// Import widget components\nimport StatsWidget from '../components/widgets/StatsWidget';\nimport NotesWidget from '../components/widgets/NotesWidget';\nimport DiceRollerWidget from '../components/widgets/DiceRollerWidget';\nimport CharacterSheetWidget from '../components/widgets/CharacterSheetWidget';\nimport TextWidget from '../components/widgets/TextWidget';\nimport TableWidget from '../components/widgets/TableWidget';\nimport ClockWidget from '../components/widgets/ClockWidget';\nimport CountdownWidget from '../components/widgets/CountdownWidget';\n\n// Enable responsive features\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n_c = ResponsiveGridLayout;\nconst DashboardContainer = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n_c2 = DashboardContainer;\nconst ControlPanel = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-md);\n`;\n_c3 = ControlPanel;\nconst LayoutControls = styled.div`\n  display: flex;\n  gap: var(--spacing-sm);\n`;\n_c4 = LayoutControls;\nconst Button = styled.button`\n  background-color: var(--${props => props.theme}-primary);\n  color: ${props => props.theme === 'dark' ? 'black' : 'white'};\n  border: none;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  font-size: var(--font-size-sm);\n  transition: background-color var(--transition-fast) ease;\n\n  &:hover {\n    background-color: var(--${props => props.theme}-primary-variant);\n  }\n`;\n_c5 = Button;\nconst WidgetSelectorModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n_c6 = WidgetSelectorModal;\nconst ModalContent = styled.div`\n  background-color: var(--${props => props.theme}-surface);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-lg);\n  width: 80%;\n  max-width: 800px;\n  max-height: 80vh;\n  overflow-y: auto;\n  box-shadow: var(--shadow-lg);\n`;\n_c7 = ModalContent;\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-md);\n  border-bottom: 1px solid var(--${props => props.theme}-border);\n  padding-bottom: var(--spacing-sm);\n`;\n_c8 = ModalHeader;\nconst ModalTitle = styled.h2`\n  margin: 0;\n  font-size: var(--font-size-lg);\n`;\n_c9 = ModalTitle;\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  font-size: var(--font-size-xl);\n  cursor: pointer;\n  color: var(--${props => props.theme}-text-secondary);\n\n  &:hover {\n    color: var(--${props => props.theme}-text-primary);\n  }\n`;\n_c0 = CloseButton;\nconst WidgetGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: var(--spacing-md);\n`;\n_c1 = WidgetGrid;\nconst WidgetCard = styled.div`\n  background-color: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)'};\n  border: 1px solid var(--${props => props.theme}-border);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-md);\n  cursor: pointer;\n  transition: all var(--transition-fast) ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: var(--shadow-md);\n    border-color: var(--${props => props.theme}-primary);\n  }\n`;\n_c10 = WidgetCard;\nconst WidgetIcon = styled.div`\n  font-size: var(--font-size-xl);\n  margin-bottom: var(--spacing-sm);\n  text-align: center;\n`;\n_c11 = WidgetIcon;\nconst WidgetName = styled.div`\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n  text-align: center;\n`;\n_c12 = WidgetName;\nconst WidgetDescription = styled.div`\n  font-size: var(--font-size-sm);\n  color: var(--${props => props.theme}-text-secondary);\n  text-align: center;\n`;\n_c13 = WidgetDescription;\nconst WidgetContainer = styled.div`\n  background-color: var(--${props => props.theme}-surface);\n  border: 1px solid var(--${props => props.theme}-border);\n  border-radius: var(--border-radius-md);\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n`;\n_c14 = WidgetContainer;\nconst WidgetHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-sm) var(--spacing-md);\n  background-color: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'};\n  border-bottom: 1px solid var(--${props => props.theme}-border);\n`;\n_c15 = WidgetHeader;\nconst WidgetTitle = styled.h3`\n  margin: 0;\n  font-size: var(--font-size-md);\n  font-weight: 500;\n`;\n_c16 = WidgetTitle;\nconst WidgetContent = styled.div`\n  padding: var(--spacing-md);\n  height: calc(100% - 40px); /* Adjust based on header height */\n  overflow: auto;\n`;\n\n// Define the initial layout\n_c17 = WidgetContent;\nconst initialLayouts = {\n  lg: [{\n    i: 'stats',\n    x: 0,\n    y: 0,\n    w: 6,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'notes',\n    x: 6,\n    y: 0,\n    w: 6,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'diceRoller',\n    x: 0,\n    y: 2,\n    w: 4,\n    h: 3,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'characterSheet',\n    x: 4,\n    y: 2,\n    w: 8,\n    h: 3,\n    minW: 4,\n    minH: 3\n  }],\n  md: [{\n    i: 'stats',\n    x: 0,\n    y: 0,\n    w: 5,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'notes',\n    x: 5,\n    y: 0,\n    w: 5,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'diceRoller',\n    x: 0,\n    y: 2,\n    w: 4,\n    h: 3,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'characterSheet',\n    x: 4,\n    y: 2,\n    w: 6,\n    h: 3,\n    minW: 4,\n    minH: 3\n  }],\n  sm: [{\n    i: 'stats',\n    x: 0,\n    y: 0,\n    w: 6,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'notes',\n    x: 0,\n    y: 2,\n    w: 6,\n    h: 2,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'diceRoller',\n    x: 0,\n    y: 4,\n    w: 6,\n    h: 3,\n    minW: 3,\n    minH: 2\n  }, {\n    i: 'characterSheet',\n    x: 0,\n    y: 7,\n    w: 6,\n    h: 3,\n    minW: 4,\n    minH: 3\n  }]\n};\n\n// Define widget components mapping\nconst widgetComponents = {\n  stats: StatsWidget,\n  notes: NotesWidget,\n  diceRoller: DiceRollerWidget,\n  characterSheet: CharacterSheetWidget,\n  text: TextWidget,\n  table: TableWidget,\n  clock: ClockWidget,\n  countdown: CountdownWidget\n};\n\n// Define widget titles\nconst widgetTitles = {\n  stats: 'Game Stats',\n  notes: 'Notes',\n  diceRoller: 'Dice Roller',\n  characterSheet: 'Character Sheet',\n  text: 'Text',\n  table: 'Table',\n  clock: 'Clock',\n  countdown: 'Countdown'\n};\nconst Dashboard = () => {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  const {\n    socket,\n    isConnected\n  } = useSocket();\n  const {\n    widgets,\n    activeWidgets,\n    addWidget,\n    removeWidget\n  } = useWidgets();\n  const [layouts, setLayouts] = useState(initialLayouts);\n  const [currentBreakpoint, setCurrentBreakpoint] = useState('lg');\n  const [isAddingWidget, setIsAddingWidget] = useState(false);\n\n  // Load saved layout from localStorage\n  useEffect(() => {\n    const savedLayouts = localStorage.getItem('dashboardLayouts');\n    if (savedLayouts) {\n      try {\n        setLayouts(JSON.parse(savedLayouts));\n      } catch (error) {\n        console.error('Error loading saved layout:', error);\n      }\n    }\n  }, []);\n\n  // Save layout changes to localStorage and emit to server\n  const handleLayoutChange = (layout, layouts) => {\n    setLayouts(layouts);\n    localStorage.setItem('dashboardLayouts', JSON.stringify(layouts));\n\n    // Emit layout change to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', layouts);\n    }\n  };\n\n  // Handle breakpoint change\n  const handleBreakpointChange = breakpoint => {\n    setCurrentBreakpoint(breakpoint);\n  };\n\n  // Reset layout to default\n  const resetLayout = () => {\n    setLayouts(initialLayouts);\n    localStorage.setItem('dashboardLayouts', JSON.stringify(initialLayouts));\n\n    // Emit layout reset to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', initialLayouts);\n    }\n  };\n\n  // Save current layout\n  const saveLayout = () => {\n    localStorage.setItem('dashboardLayouts', JSON.stringify(layouts));\n    alert('Layout saved successfully!');\n\n    // Emit layout save to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:saveLayout', layouts);\n    }\n  };\n\n  // Toggle widget selector modal\n  const toggleWidgetSelector = () => {\n    setIsAddingWidget(!isAddingWidget);\n  };\n\n  // Handle adding a new widget\n  const handleAddWidget = widgetId => {\n    var _widgets$find;\n    // Add widget to active widgets\n    addWidget(widgetId);\n\n    // Add widget to layout\n    const widgetMetadata = (_widgets$find = widgets.find(w => w.metadata.id === widgetId)) === null || _widgets$find === void 0 ? void 0 : _widgets$find.metadata;\n    if (widgetMetadata) {\n      const {\n        defaultSize,\n        minW,\n        minH\n      } = widgetMetadata;\n\n      // Create new layout item\n      const newLayoutItem = {\n        i: widgetId,\n        x: 0,\n        y: 0,\n        w: defaultSize.w,\n        h: defaultSize.h,\n        minW: minW || 2,\n        minH: minH || 1\n      };\n\n      // Add to layouts for all breakpoints\n      const updatedLayouts = {\n        ...layouts\n      };\n      Object.keys(updatedLayouts).forEach(breakpoint => {\n        updatedLayouts[breakpoint] = [...updatedLayouts[breakpoint], {\n          ...newLayoutItem\n        }];\n      });\n      setLayouts(updatedLayouts);\n\n      // Save updated layouts\n      localStorage.setItem('dashboardLayouts', JSON.stringify(updatedLayouts));\n\n      // Emit layout change to server if connected\n      if (socket && isConnected) {\n        socket.emit('dashboard:layoutChange', updatedLayouts);\n      }\n    }\n\n    // Close widget selector\n    setIsAddingWidget(false);\n  };\n\n  // Handle removing a widget\n  const handleRemoveWidget = widgetId => {\n    // Remove widget from active widgets\n    removeWidget(widgetId);\n\n    // Remove widget from layouts\n    const updatedLayouts = {\n      ...layouts\n    };\n    Object.keys(updatedLayouts).forEach(breakpoint => {\n      updatedLayouts[breakpoint] = updatedLayouts[breakpoint].filter(item => item.i !== widgetId);\n    });\n    setLayouts(updatedLayouts);\n\n    // Save updated layouts\n    localStorage.setItem('dashboardLayouts', JSON.stringify(updatedLayouts));\n\n    // Emit layout change to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', updatedLayouts);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ControlPanel, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LayoutControls, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: toggleWidgetSelector,\n          theme: theme,\n          children: \"Add Widget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: resetLayout,\n          theme: theme,\n          children: \"Reset Layout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: saveLayout,\n          theme: theme,\n          children: \"Save Layout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveGridLayout, {\n      className: \"layout\",\n      layouts: layouts,\n      breakpoints: {\n        lg: 1200,\n        md: 996,\n        sm: 768,\n        xs: 480,\n        xxs: 0\n      },\n      cols: {\n        lg: 12,\n        md: 10,\n        sm: 6,\n        xs: 4,\n        xxs: 2\n      },\n      rowHeight: 100,\n      margin: [16, 16],\n      onLayoutChange: handleLayoutChange,\n      onBreakpointChange: handleBreakpointChange,\n      isDraggable: true,\n      isResizable: true,\n      useCSSTransforms: true,\n      children: activeWidgets.map(widgetId => {\n        // Find the widget in the registry\n        const widget = widgets.find(w => w.metadata.id === widgetId);\n        if (!widget) {\n          return null;\n        }\n        const WidgetComponent = widget.component;\n        const widgetTitle = widget.metadata.name;\n        return /*#__PURE__*/_jsxDEV(WidgetContainer, {\n          theme: theme,\n          children: [/*#__PURE__*/_jsxDEV(WidgetHeader, {\n            theme: theme,\n            children: [/*#__PURE__*/_jsxDEV(WidgetTitle, {\n              children: widgetTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n              onClick: () => handleRemoveWidget(widgetId),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(WidgetContent, {\n            children: /*#__PURE__*/_jsxDEV(WidgetComponent, {\n              id: widgetId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, widgetId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), isAddingWidget && /*#__PURE__*/_jsxDEV(WidgetSelectorModal, {\n      onClick: toggleWidgetSelector,\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        onClick: e => e.stopPropagation(),\n        theme: theme,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          theme: theme,\n          children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: \"Add Widget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n            onClick: toggleWidgetSelector,\n            theme: theme,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(WidgetGrid, {\n          children: widgets.map(widget => /*#__PURE__*/_jsxDEV(WidgetCard, {\n            onClick: () => handleAddWidget(widget.metadata.id),\n            theme: theme,\n            children: [/*#__PURE__*/_jsxDEV(WidgetIcon, {\n              children: widget.metadata.icon || 'ðŸ“Š'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(WidgetName, {\n              children: widget.metadata.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(WidgetDescription, {\n              children: widget.metadata.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 19\n            }, this)]\n          }, widget.metadata.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"m9UE3lyA39cilfe+yN0iHxvlxFk=\", false, function () {\n  return [useTheme, useSocket, useWidgets];\n});\n_c18 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n$RefreshReg$(_c, \"ResponsiveGridLayout\");\n$RefreshReg$(_c2, \"DashboardContainer\");\n$RefreshReg$(_c3, \"ControlPanel\");\n$RefreshReg$(_c4, \"LayoutControls\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"WidgetSelectorModal\");\n$RefreshReg$(_c7, \"ModalContent\");\n$RefreshReg$(_c8, \"ModalHeader\");\n$RefreshReg$(_c9, \"ModalTitle\");\n$RefreshReg$(_c0, \"CloseButton\");\n$RefreshReg$(_c1, \"WidgetGrid\");\n$RefreshReg$(_c10, \"WidgetCard\");\n$RefreshReg$(_c11, \"WidgetIcon\");\n$RefreshReg$(_c12, \"WidgetName\");\n$RefreshReg$(_c13, \"WidgetDescription\");\n$RefreshReg$(_c14, \"WidgetContainer\");\n$RefreshReg$(_c15, \"WidgetHeader\");\n$RefreshReg$(_c16, \"WidgetTitle\");\n$RefreshReg$(_c17, \"WidgetContent\");\n$RefreshReg$(_c18, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","styled","Responsive","WidthProvider","useSocket","useTheme","useWidgets","StatsWidget","NotesWidget","DiceRollerWidget","CharacterSheetWidget","TextWidget","TableWidget","ClockWidget","CountdownWidget","jsxDEV","_jsxDEV","ResponsiveGridLayout","_c","DashboardContainer","div","_c2","ControlPanel","_c3","LayoutControls","_c4","Button","button","props","theme","_c5","WidgetSelectorModal","_c6","ModalContent","_c7","ModalHeader","_c8","ModalTitle","h2","_c9","CloseButton","_c0","WidgetGrid","_c1","WidgetCard","_c10","WidgetIcon","_c11","WidgetName","_c12","WidgetDescription","_c13","WidgetContainer","_c14","WidgetHeader","_c15","WidgetTitle","h3","_c16","WidgetContent","_c17","initialLayouts","lg","i","x","y","w","h","minW","minH","md","sm","widgetComponents","stats","notes","diceRoller","characterSheet","text","table","clock","countdown","widgetTitles","Dashboard","_s","socket","isConnected","widgets","activeWidgets","addWidget","removeWidget","layouts","setLayouts","currentBreakpoint","setCurrentBreakpoint","isAddingWidget","setIsAddingWidget","savedLayouts","localStorage","getItem","JSON","parse","error","console","handleLayoutChange","layout","setItem","stringify","emit","handleBreakpointChange","breakpoint","resetLayout","saveLayout","alert","toggleWidgetSelector","handleAddWidget","widgetId","_widgets$find","widgetMetadata","find","metadata","id","defaultSize","newLayoutItem","updatedLayouts","Object","keys","forEach","handleRemoveWidget","filter","item","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","breakpoints","xs","xxs","cols","rowHeight","margin","onLayoutChange","onBreakpointChange","isDraggable","isResizable","useCSSTransforms","map","widget","WidgetComponent","component","widgetTitle","name","e","stopPropagation","icon","description","_c18","$RefreshReg$"],"sources":["/mnt/network_repo/test_ai_rpg/RPGer/client/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Responsive, WidthProvider } from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\nimport { useSocket } from '../context/SocketContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { useWidgets } from '../context/WidgetContext';\n\n// Import widget components\nimport StatsWidget from '../components/widgets/StatsWidget';\nimport NotesWidget from '../components/widgets/NotesWidget';\nimport DiceRollerWidget from '../components/widgets/DiceRollerWidget';\nimport CharacterSheetWidget from '../components/widgets/CharacterSheetWidget';\nimport TextWidget from '../components/widgets/TextWidget';\nimport TableWidget from '../components/widgets/TableWidget';\nimport ClockWidget from '../components/widgets/ClockWidget';\nimport CountdownWidget from '../components/widgets/CountdownWidget';\n\n// Enable responsive features\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst DashboardContainer = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst ControlPanel = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-md);\n`;\n\nconst LayoutControls = styled.div`\n  display: flex;\n  gap: var(--spacing-sm);\n`;\n\nconst Button = styled.button`\n  background-color: var(--${props => props.theme}-primary);\n  color: ${props => props.theme === 'dark' ? 'black' : 'white'};\n  border: none;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  font-size: var(--font-size-sm);\n  transition: background-color var(--transition-fast) ease;\n\n  &:hover {\n    background-color: var(--${props => props.theme}-primary-variant);\n  }\n`;\n\nconst WidgetSelectorModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n\nconst ModalContent = styled.div`\n  background-color: var(--${props => props.theme}-surface);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-lg);\n  width: 80%;\n  max-width: 800px;\n  max-height: 80vh;\n  overflow-y: auto;\n  box-shadow: var(--shadow-lg);\n`;\n\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-md);\n  border-bottom: 1px solid var(--${props => props.theme}-border);\n  padding-bottom: var(--spacing-sm);\n`;\n\nconst ModalTitle = styled.h2`\n  margin: 0;\n  font-size: var(--font-size-lg);\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  font-size: var(--font-size-xl);\n  cursor: pointer;\n  color: var(--${props => props.theme}-text-secondary);\n\n  &:hover {\n    color: var(--${props => props.theme}-text-primary);\n  }\n`;\n\nconst WidgetGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: var(--spacing-md);\n`;\n\nconst WidgetCard = styled.div`\n  background-color: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)'};\n  border: 1px solid var(--${props => props.theme}-border);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-md);\n  cursor: pointer;\n  transition: all var(--transition-fast) ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: var(--shadow-md);\n    border-color: var(--${props => props.theme}-primary);\n  }\n`;\n\nconst WidgetIcon = styled.div`\n  font-size: var(--font-size-xl);\n  margin-bottom: var(--spacing-sm);\n  text-align: center;\n`;\n\nconst WidgetName = styled.div`\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n  text-align: center;\n`;\n\nconst WidgetDescription = styled.div`\n  font-size: var(--font-size-sm);\n  color: var(--${props => props.theme}-text-secondary);\n  text-align: center;\n`;\n\nconst WidgetContainer = styled.div`\n  background-color: var(--${props => props.theme}-surface);\n  border: 1px solid var(--${props => props.theme}-border);\n  border-radius: var(--border-radius-md);\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n`;\n\nconst WidgetHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-sm) var(--spacing-md);\n  background-color: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'};\n  border-bottom: 1px solid var(--${props => props.theme}-border);\n`;\n\nconst WidgetTitle = styled.h3`\n  margin: 0;\n  font-size: var(--font-size-md);\n  font-weight: 500;\n`;\n\nconst WidgetContent = styled.div`\n  padding: var(--spacing-md);\n  height: calc(100% - 40px); /* Adjust based on header height */\n  overflow: auto;\n`;\n\n// Define the initial layout\nconst initialLayouts = {\n  lg: [\n    { i: 'stats', x: 0, y: 0, w: 6, h: 2, minW: 3, minH: 2 },\n    { i: 'notes', x: 6, y: 0, w: 6, h: 2, minW: 3, minH: 2 },\n    { i: 'diceRoller', x: 0, y: 2, w: 4, h: 3, minW: 3, minH: 2 },\n    { i: 'characterSheet', x: 4, y: 2, w: 8, h: 3, minW: 4, minH: 3 },\n  ],\n  md: [\n    { i: 'stats', x: 0, y: 0, w: 5, h: 2, minW: 3, minH: 2 },\n    { i: 'notes', x: 5, y: 0, w: 5, h: 2, minW: 3, minH: 2 },\n    { i: 'diceRoller', x: 0, y: 2, w: 4, h: 3, minW: 3, minH: 2 },\n    { i: 'characterSheet', x: 4, y: 2, w: 6, h: 3, minW: 4, minH: 3 },\n  ],\n  sm: [\n    { i: 'stats', x: 0, y: 0, w: 6, h: 2, minW: 3, minH: 2 },\n    { i: 'notes', x: 0, y: 2, w: 6, h: 2, minW: 3, minH: 2 },\n    { i: 'diceRoller', x: 0, y: 4, w: 6, h: 3, minW: 3, minH: 2 },\n    { i: 'characterSheet', x: 0, y: 7, w: 6, h: 3, minW: 4, minH: 3 },\n  ],\n};\n\n// Define widget components mapping\nconst widgetComponents: Record<string, React.FC<any>> = {\n  stats: StatsWidget,\n  notes: NotesWidget,\n  diceRoller: DiceRollerWidget,\n  characterSheet: CharacterSheetWidget,\n  text: TextWidget,\n  table: TableWidget,\n  clock: ClockWidget,\n  countdown: CountdownWidget,\n};\n\n// Define widget titles\nconst widgetTitles: Record<string, string> = {\n  stats: 'Game Stats',\n  notes: 'Notes',\n  diceRoller: 'Dice Roller',\n  characterSheet: 'Character Sheet',\n  text: 'Text',\n  table: 'Table',\n  clock: 'Clock',\n  countdown: 'Countdown',\n};\n\nconst Dashboard: React.FC = () => {\n  const { theme } = useTheme();\n  const { socket, isConnected } = useSocket();\n  const { widgets, activeWidgets, addWidget, removeWidget } = useWidgets();\n  const [layouts, setLayouts] = useState(initialLayouts);\n  const [currentBreakpoint, setCurrentBreakpoint] = useState('lg');\n  const [isAddingWidget, setIsAddingWidget] = useState(false);\n\n  // Load saved layout from localStorage\n  useEffect(() => {\n    const savedLayouts = localStorage.getItem('dashboardLayouts');\n    if (savedLayouts) {\n      try {\n        setLayouts(JSON.parse(savedLayouts));\n      } catch (error) {\n        console.error('Error loading saved layout:', error);\n      }\n    }\n  }, []);\n\n  // Save layout changes to localStorage and emit to server\n  const handleLayoutChange = (layout: any, layouts: any) => {\n    setLayouts(layouts);\n    localStorage.setItem('dashboardLayouts', JSON.stringify(layouts));\n\n    // Emit layout change to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', layouts);\n    }\n  };\n\n  // Handle breakpoint change\n  const handleBreakpointChange = (breakpoint: string) => {\n    setCurrentBreakpoint(breakpoint);\n  };\n\n  // Reset layout to default\n  const resetLayout = () => {\n    setLayouts(initialLayouts);\n    localStorage.setItem('dashboardLayouts', JSON.stringify(initialLayouts));\n\n    // Emit layout reset to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', initialLayouts);\n    }\n  };\n\n  // Save current layout\n  const saveLayout = () => {\n    localStorage.setItem('dashboardLayouts', JSON.stringify(layouts));\n    alert('Layout saved successfully!');\n\n    // Emit layout save to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:saveLayout', layouts);\n    }\n  };\n\n  // Toggle widget selector modal\n  const toggleWidgetSelector = () => {\n    setIsAddingWidget(!isAddingWidget);\n  };\n\n  // Handle adding a new widget\n  const handleAddWidget = (widgetId: string) => {\n    // Add widget to active widgets\n    addWidget(widgetId);\n\n    // Add widget to layout\n    const widgetMetadata = widgets.find(w => w.metadata.id === widgetId)?.metadata;\n\n    if (widgetMetadata) {\n      const { defaultSize, minW, minH } = widgetMetadata;\n\n      // Create new layout item\n      const newLayoutItem = {\n        i: widgetId,\n        x: 0,\n        y: 0,\n        w: defaultSize.w,\n        h: defaultSize.h,\n        minW: minW || 2,\n        minH: minH || 1,\n      };\n\n      // Add to layouts for all breakpoints\n      const updatedLayouts = { ...layouts };\n\n      Object.keys(updatedLayouts).forEach(breakpoint => {\n        updatedLayouts[breakpoint] = [\n          ...updatedLayouts[breakpoint],\n          { ...newLayoutItem }\n        ];\n      });\n\n      setLayouts(updatedLayouts);\n\n      // Save updated layouts\n      localStorage.setItem('dashboardLayouts', JSON.stringify(updatedLayouts));\n\n      // Emit layout change to server if connected\n      if (socket && isConnected) {\n        socket.emit('dashboard:layoutChange', updatedLayouts);\n      }\n    }\n\n    // Close widget selector\n    setIsAddingWidget(false);\n  };\n\n  // Handle removing a widget\n  const handleRemoveWidget = (widgetId: string) => {\n    // Remove widget from active widgets\n    removeWidget(widgetId);\n\n    // Remove widget from layouts\n    const updatedLayouts = { ...layouts };\n\n    Object.keys(updatedLayouts).forEach(breakpoint => {\n      updatedLayouts[breakpoint] = updatedLayouts[breakpoint].filter(\n        item => item.i !== widgetId\n      );\n    });\n\n    setLayouts(updatedLayouts);\n\n    // Save updated layouts\n    localStorage.setItem('dashboardLayouts', JSON.stringify(updatedLayouts));\n\n    // Emit layout change to server if connected\n    if (socket && isConnected) {\n      socket.emit('dashboard:layoutChange', updatedLayouts);\n    }\n  };\n\n  return (\n    <DashboardContainer>\n      <ControlPanel>\n        <h2>Dashboard</h2>\n        <LayoutControls>\n          <Button onClick={toggleWidgetSelector} theme={theme}>Add Widget</Button>\n          <Button onClick={resetLayout} theme={theme}>Reset Layout</Button>\n          <Button onClick={saveLayout} theme={theme}>Save Layout</Button>\n        </LayoutControls>\n      </ControlPanel>\n\n      <ResponsiveGridLayout\n        className=\"layout\"\n        layouts={layouts}\n        breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}\n        cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}\n        rowHeight={100}\n        margin={[16, 16]}\n        onLayoutChange={handleLayoutChange}\n        onBreakpointChange={handleBreakpointChange}\n        isDraggable\n        isResizable\n        useCSSTransforms\n      >\n        {activeWidgets.map((widgetId) => {\n          // Find the widget in the registry\n          const widget = widgets.find(w => w.metadata.id === widgetId);\n\n          if (!widget) {\n            return null;\n          }\n\n          const WidgetComponent = widget.component;\n          const widgetTitle = widget.metadata.name;\n\n          return (\n            <WidgetContainer key={widgetId} theme={theme}>\n              <WidgetHeader theme={theme}>\n                <WidgetTitle>{widgetTitle}</WidgetTitle>\n                <CloseButton onClick={() => handleRemoveWidget(widgetId)}>Ã—</CloseButton>\n              </WidgetHeader>\n              <WidgetContent>\n                <WidgetComponent id={widgetId} />\n              </WidgetContent>\n            </WidgetContainer>\n          );\n        })}\n      </ResponsiveGridLayout>\n\n      {isAddingWidget && (\n        <WidgetSelectorModal onClick={toggleWidgetSelector}>\n          <ModalContent onClick={e => e.stopPropagation()} theme={theme}>\n            <ModalHeader theme={theme}>\n              <ModalTitle>Add Widget</ModalTitle>\n              <CloseButton onClick={toggleWidgetSelector} theme={theme}>Ã—</CloseButton>\n            </ModalHeader>\n\n            <WidgetGrid>\n              {widgets.map(widget => (\n                <WidgetCard\n                  key={widget.metadata.id}\n                  onClick={() => handleAddWidget(widget.metadata.id)}\n                  theme={theme}\n                >\n                  <WidgetIcon>{widget.metadata.icon || 'ðŸ“Š'}</WidgetIcon>\n                  <WidgetName>{widget.metadata.name}</WidgetName>\n                  <WidgetDescription>{widget.metadata.description}</WidgetDescription>\n                </WidgetCard>\n              ))}\n            </WidgetGrid>\n          </ModalContent>\n        </WidgetSelectorModal>\n      )}\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}